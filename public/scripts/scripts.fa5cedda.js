"use strict";angular.module("freeminderApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-google-analytics","cgBusy","facebook","ui.date"]).config(["$routeProvider","AnalyticsProvider","$logProvider","$compileProvider","configuration","FacebookProvider",function(a,b,c,d,e,f){c.debugEnabled(e.debug),d.debugInfoEnabled(e.debug);var g=e.fbAppId;f.init({appId:g,version:"v2.4",status:!0,xfbml:!1},!0),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/signup",{templateUrl:"views/signup.html",controller:"SignupCtrl",controllerAs:"signup"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/customer-list",{templateUrl:"views/customer-list.html",controller:"CustomerListCtrl",controllerAs:"customerList",requireLogin:!0}).when("/edit-contact",{templateUrl:"views/edit-contact.html",controller:"EditContactCtrl",controllerAs:"editContact",requireLogin:!0}).when("/import-file",{templateUrl:"views/import-file.html",controller:"ImportFileCtrl",controllerAs:"importFile",requireLogin:!0}).when("/add-action",{templateUrl:"views/add-action.html",controller:"AddActionCtrl",controllerAs:"addAction"}).when("/new-contact",{templateUrl:"views/new-contact.html",controller:"NewContactCtrl",controllerAs:"newContact",requireLogin:!0}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl",controllerAs:"profile",requireLogin:!0}).when("/leftnav",{templateUrl:"views/leftnav.html",controller:"LeftnavCtrl",controllerAs:"leftnav"}).when("/system-action",{templateUrl:"views/system-action.html",controller:"SystemActionCtrl",controllerAs:"systemAction",requireLogin:!0}).when("/sysaction-list",{templateUrl:"views/sysaction-list.html",controller:"SysactionListCtrl",controllerAs:"sysactionList"}).when("/qna",{templateUrl:"views/qna.html"}).when("/tnc",{templateUrl:"views/tnc.html"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","$injector","$log","userService","Parse",function(a,b,c,d,e,f){a.storedRoute={returnToNext:{},returnToUrl:""},a.$on("$routeChangeStart",function(d,f,g){if(f&&f.dependencyRedirect){var h=f.dependencyRedirect(c);if(h)return void b.path(h)}if(f&&f.requireLogin&&!e.isLoggedIn())return a.storedRoute.returnToNext=f,a.storedRoute.returnToUrl=b.url(),void b.path("/login");if(g&&f&&f.originalPath!==g.originalPath&&e.isLoggedIn()&&a.storedRoute.returnToUrl.length){var i=a.storedRoute.returnToUrl;return a.storedRoute.returnToNext={},a.storedRoute.returnToUrl="",void b.path(i)}})}]),angular.module("freeminderApp").controller("MainCtrl",["$scope","$log","configuration",function(a,b,c){}]),angular.module("freeminderApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("freeminderApp").controller("ProfileCtrl",["$scope","$log","$location","$timeout","$q","configuration","userService","Profile",function(a,b,c,d,e,f,g,h){a.page="profile",a.pInfo={},a.successMessage="",a.errorMessage="",a.formValidationError=!1,a.fuErrorMessage="";var i=g.getUser();a.showPassSection=!i.isFBUser,a.showCPSection=!1,a.ShowCPSection=function(){a.showCPSection=!0};var j=function(b){a.image=b.image||"",a.pInfo=b,a.name=b.firstName||b.lastName,a.pInfo.image=a.pInfo.image||""},k=function(){b.debug("/users/me failed redirecting to login"),c.path("/login")};h.getProfileInfo().then(j,k),a.formInvalid=function(){if(a.profileForm.$invalid||a.profileForm.$pending)return a.errorMessage="",!0;var b=a.profileForm.newpassword.$viewValue,c=a.profileForm.newpassword2.$viewValue,d=a.profileForm.password.$viewValue;return b&&!d?(a.errorMessage="Your current password is not correct.",a.formValidationError=!0,!0):d&&!b?(a.errorMessage="Your new password is not correct.",a.formValidationError=!0,!0):b!==c?(a.errorMessage="",!0):d&&b===d?(a.errorMessage="New password shouldn't be same as current password.",a.formValidationError=!0,!0):(a.errorMessage=a.formValidationError?"":a.errorMessage,a.formValidationError=!1,!1)},a.$watch("pInfo.image",function(c){if(void 0!==c&&(b.debug(c+" "+a.pInfo.image),a.image!==a.pInfo.image)){var d=function(c){a.errorMessage="Unable to process your request",b.debug("Profile Image Update failed"),b.debug(c)},e=function(){a.image=a.pInfo.image,h.getCompleteProfile().then(function(b){b&&(b.image=a.pInfo.image,g.updateUserInfo(b))})};a.lPromise=h.updateProfileImage(a.pInfo.userId,a.pInfo.image,a.image),a.lPromise.then(e,d,function(b){a.lMessage=b})}});var l=function(){var f=e.defer(),i={},j=function(d,e){f.resolve("success"),a.newpassword="",a.newpassword2="",a.password="",a.showCPSection=!1;var i=d&&d.result?d.result.session||"":"";return h.getCompleteProfile().then(function(a){b.debug(a),a&&(a.session=i,a.mobileVerified=e&&11===e.code?!1:a.mobileVerified,g.updateUserInfo(a))}),b.debug(e),e&&11===e.code?(b.debug("redirecting to verify-mobile"),void c.path("/verify-mobile")):void(a.successMessage="User details have been saved successfully.")},k=function(c){var d=g.parseErrorResponse(c.data||c);f.reject("failure"),a.errorMessage="username/password not correct"===d.msg?"Your current password is not correct. Please try again.":"Unable to process your request.",b.debug(d.msg)},l=function(c){f.reject("failure"),b.debug("Profile Update failed");var d=g.parseErrorResponse(c.data||c);603===d.swCode&&(a.errorMessage="Invalid mobile number. Please try again."),a.errorMessage=a.errorMessage||"Unable to process your request"};return d(function(){f.notify("Updating profile data")},0),h.updateProfileInfo(a.pInfo).then(function(b){return i=b||{},h.changePassword(a.pInfo.email,a.password,a.newpassword)},l).then(function(a){j(a,i.result)},k)["catch"](function(a){l(a)}),f.promise};a.submitForm=function(){return a.errorMessage=a.successMessage="",a.newpassword!==a.newpassword2?(a.errorMessage="Passwords didn't match",a.newpassword="",a.newpassword2="",!1):a.newpassword&&!a.password?(a.errorMessage="Your current password is not correct. Please try again.",!1):(a.lPromise=l(),void a.lPromise.then(function(){b.debug("Profile update successful")},function(){b.debug("Profile update failed")},function(c){b.debug("On progress "+c),a.lMessage=c}))}}]),angular.module("freeminderApp").controller("SignupCtrl",["$scope","$window","$location","$log","userService","Facebook","configuration",function(a,b,c,d,e,f,g){if(a.errMsg="",a.lPromise=null,a.lMessage="",a.errEmail="Enter a valid email",a.errPwd="Password must be 6 character long",a.errPhone="Please enter 10 digit phone number",a.showFBLogin=!0,a.service_list=[{id:0,name:"Select Service"},{id:1,name:"GYM"},{id:2,name:"EDUCATION"},{id:3,name:"MOTOR SERVICE"},{id:4,name:"INSURANCE"},{id:5,name:"LEGAL"},{id:6,name:"COMMUNITY"},{id:7,name:"MEDICAL"},{id:8,name:"DIAGNOSTIC CENTER"},{id:9,name:"HOME"},{id:10,name:"CABLE/INTERNET SERVICE"},{id:11,name:"OTHER SUBSCRIPTIONS"}],a.service_name=a.service_list[2],a.user={},a.logged=!1,a.authData={},a.logged=!1,a.submitForm=function(){a.errMsg="",a.lMessage="";d.debug("Before signup "+a.email,a.mobile+a.service_name.name),a.lPromise=e.signup(a.email,a.passwd,a.mobile,a.user_name,a.service_name.name),a.lPromise.then(function(a){d.debug("After signup "+JSON.stringify(a)),c.path("/customer-list")},function(b){d.debug("Signup failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){b.jQuery("input:first").focus()})},a.facebookReady=!1,a.facebookReady)e.fbPreLoginCheck();else var h=a.$watch(function(){return e.isFBReady()},function(b){a.facebookReady=b,b&&(e.fbPreLoginCheck(),h())});a.loginWithFacebook=function(){return a.errMsg="",a.lMessage="",a.lPromise=e.fbLogin(!0),a.lPromise.then(function(a){d.debug("After successful FB login "+JSON.stringify(a)),c.path("/shop")},function(b){d.debug("FB Login failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){d.debug("On progress "+b),a.lMessage=b}),!1}}]),angular.module("freeminderApp").service("Profile",["Parse","$q","$log","$timeout","$cacheFactory","userService",function(a,b,c,d,e,f){var g=e("Profile"),h=function(a){var b={};b.userId=a.objectId||"";var c=a.datastore?a.datastore.account||{}:{};return b.firstName=c.firstName||"",b.lastName=c.lastName||"",b.address=c.address||"",b.city=c.city||"",b.state=c.state||"",b.zipcode=c.zipcode||"",b.email=a.email||"",b.mobile=a.mobile||"",b.image=a.image||"",b},i=function(a,b,c){return a.datastore.account=a.datastore.account||{},a.datastore.account.firstName=c.firstName,a.datastore.account.lastName=c.lastName,a.datastore.account.address=c.address,a.datastore.account.city=c.city,a.datastore.account.state=c.state,a.datastore.account.zipcode=c.zipcode,a.mobile=c.mobile,a.image=c.image,g.put(b.oID+"ProfileInfo",a),a},j=function(a){var b={};return b.datastore=a.datastore,b.mobile=a.mobile,b},k=function(a){var c=b.defer(),d=f.getUser(),e=g.get(d.oID+"ProfileInfo");if(e&&e.datastore){var h=i(e,d,a),k=j(h);c.resolve(k)}else l(!1,!0).then(function(b){var e=i(b,d,a),f=j(e);c.resolve(f)},function(){c.reject()});return c.promise},l=function(a,c){var d=b.defer(),e=f.getUser();if(a){var i=g.get(e.oID+"ProfileInfo");if(i)return i=c?i:h(i),d.resolve(i),d.promise}var i={};return i.id=e.oID,i.mobileVerified=e.isMobileVerified,g.put(e.oID+"ProfileInfo",i),i=c?i:h(i),d.resolve(i),d.promise},m=function(c){var d=b.defer(),e=k(c);return e.then(function(b){a.save({api:"appUpdateProfile"},b).$promise.then(function(a){d.resolve(a)},function(a){d.reject(a)})},function(){d.reject({status:"failed"})}),d.promise},n=function(c,d,e){var f=b.defer();if(!(d&&e&&d.length&&e.length))return f.resolve({result:{status:"noupdate"}}),f.promise;var g={};return g.username=c,g.password=d,g.newpassword=e,a.save({api:"webChangePassword"},g).$promise};return{getProfileInfo:function(){return l(!1,!1)},getCompleteProfile:function(){return l(!0,!0)},updateProfileInfo:m,changePassword:n}}]),angular.module("freeminderApp").factory("Parse",["$resource","$log","configuration","$rootScope","$window",function(a,b,c,d,e){function f(){var a=e.navigator.userAgent,b=e.navigator.appName,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),d=-1;return"Microsoft Internet Explorer"===b&&null!==c.exec(a)&&(d=parseFloat(RegExp.$1)),d}function g(){var a=!1,c=f();return c>-1&&c>=9&&10>c&&(a=!0),b.debug("Proxy parse request "+(a?"needed":"not needed")),a}var h="";d.$on("user:updated",function(a,b){h=b.sToken});var i=function(){return h.length?h:null},j={"X-Parse-Application-Id":c.appID,"X-Parse-REST-API-Key":c.parseKey,"X-Parse-Session-Token":i},k={cv:c.clientVersion},l="https://api.parse.com";c.proxyParseAPI&&g()&&(l=c.proxyParseAPIPrefix);var m=a(l+"/1/:object/:api",{object:"functions"},{save:{method:"POST",headers:j,paramSerializer:"$httpParamSerializerJQLike"},query:{method:"GET",headers:j,paramSerializer:"$httpParamSerializerJQLike"},put:{method:"PUT",headers:j,paramSerializer:"$httpParamSerializerJQLike"}}),n=function(a){return a=a||{},angular.extend(a,k),a};return{save:function(a,c,d,e){return a||b.debug("Required field params is undefined"),m.save(a,n(c),d,e)},query:function(a,c,d,e){return a||b.debug("Required field params is undefined"),m.query(a,n(c),d,e)},put:function(a,c,d,e){return a||b.debug("Required field params is undefined"),m.put(a,n(c),d,e)}}}]),angular.module("freeminderApp").controller("LoginCtrl",["$scope","$window","$log","$location","userService","Facebook","configuration",function(a,b,c,d,e,f,g){a.errMsg="",a.lPromise=null,a.lMessage="",a.showFBLogin=!0;var h=0;if(a.setWidgetId=function(a){h=a},a.submitForm=function(){return a.errMsg="",a.lMessage="",a.lPromise=e.login(a.user,a.password),a.lPromise.then(function(a){c.debug("After successful login "+JSON.stringify(a)),d.path("/customer-list")},function(b){c.debug("Login failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){c.debug("On progress "+b),a.lMessage=b})["finally"](function(){b.jQuery("input:first").focus()}),!1},a.facebookReady=!1,a.facebookReady)e.fbPreLoginCheck();else var i=a.$watch(function(){return e.isFBReady()},function(b){a.facebookReady=b,b&&(e.fbPreLoginCheck(),i())});a.loginWithFacebook=function(){return a.errMsg="",a.lMessage="",a.lPromise=e.fbLogin(),a.lPromise.then(function(a){c.debug("After successful FB login "+JSON.stringify(a)),d.path("/shop")},function(b){c.debug("FB Login failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){c.debug("On progress "+b),a.lMessage=b}),!1}}]),angular.module("freeminderApp").controller("HeaderCtrl",["$scope","$rootScope","$window","$log","$location","userService",function(a,b,c,d,e,f){function g(){var b=e.path(),c=["/login","/signup"];return-1!==c.indexOf(b)?void(a.headerClass="logo-only-navbar"):(a.headerClass=a.isLoggedIn?"loggedin-navbar":"",void(a.loggedinClass=a.isLoggedIn?"loggedin-img-header":""))}function h(){j("#sw-navbar-collapse").collapse("hide")}a.isLoggedIn=f.isLoggedIn();var i=f.getUser(),j=c.jQuery;a.username=i.firstName||i.name,a.headerClass="",a.loggedinClass="",a.signout=function(){return f.signout()["finally"](function(){d.debug("After logging out "+JSON.stringify(f.getUser())),e.path("/main")}),h(),!1},a.$on("user:updated",function(){console.log("User update event");var b=f.getUser();a.isLoggedIn=b.isLoggedIn,a.username=b.firstName||b.name,g()}),b.$on("$routeChangeSuccess",function(){h(),g(),j("html, body").animate({scrollTop:0})})}]),angular.module("freeminderApp").service("userService",["$rootScope","$http","$q","$log","$timeout","$window","configuration","Parse","Facebook","$filter",function(a,b,c,d,e,f,g,h,i,j){function k(a,b,c,d){this.sts=a||!1,this.code=b||1,this.msg=d||"Unable to process your request at this time. Please try again later.",this.swCode=-1,angular.isDefined(c)&&(this.swCode=c)}function l(){return new k}function m(){a.$broadcast("user:updated",J)}function n(){J.isLoggedIn=J.isFBUser||J.email.length&&J.emailVerified||J.mobile.length&&J.mobileVerified}function o(a,b){angular.isUndefined(b)&&(b=!0),J.email=a.email||"",J.mobile=a.mobile||"",J.name=a.username||"",J.oID=a.objectId,J.sToken=a.session||J.sToken,J.emailVerified=a.emailVerified,J.mobileVerified=a.mobileVerified||!1,p(a),n(),b&&m()}function p(a){!angular.isUndefined(a)&&angular.isObject(a)&&(angular.isDefined(a.datastore)&&(angular.merge(J.datastore,a.datastore),angular.isDefined(J.datastore.account)&&(J.firstName=J.datastore.account.firstName||"",J.lastName=J.datastore.account.lastName||"",J.firstName.length&&J.lastName.length?J.initials=(J.firstName.charAt(0)+J.lastName.charAt(0)).toUpperCase():J.initials="")),J.profilePic=a.image||J.profilePic)}function q(a){var b=l(),c={};if(angular.isDefined(a.sts))return a;if(a.code&&(b.code=a.code),angular.isString(a.result))return b.msg=a.result,b;if(angular.isUndefined(a.error))return b;if(angular.isObject(a.error)&&a.error.message)b.msg=a.error.message;else if(angular.isString(a.error)){b.msg=a.error,a.error.match(/^JSON:/)&&(b.msg=a.error.replace(/^JSON:/,""));try{c=angular.fromJson(b.msg),c&&(c.details||c.message||c.status)&&(b.msg=c.details||c.message||c.status),b.swCode=c.code||-1}catch(d){}}return b.msg=b.msg.replace(/^Request failed with response: /,""),b}function r(a,b,f,g,i){a=a||"",b=b||"",f=f||"",a=a.toLowerCase();var j=l(),k=c.defer();if(!a.length||!b.length||!f.length)return j.msg="Invalid Input!",e(function(){k.reject(j)},0),k.promise;e(function(){k.notify("validating")},0);var m={email:a,password:b,mobile:f,username:g,service:i};return h.save({api:"appSignup"},m).$promise.then(function(a){d.debug("signup response "+JSON.stringify(a)),(angular.isUndefined(a.result)||"success"!==a.result.status)&&k.reject(j),o(a.result.user),j.sts=!0,k.resolve(J)})["catch"](function(a){j=q(a.data||a),k.reject(j)})["finally"](function(){k.reject(j)},function(a){angular.isString(a)&&a.length&&k.notify(a)}),k.promise}function s(a,b){a=a||"",b=b||"",a=a.toLowerCase();var f=l(),g=c.defer();if(!a.length||!b.length)return f.msg="Invalid input!",e(function(){g.reject(f)},0),g.promise;e(function(){g.notify("Logging in")},0);var i={username:a,password:b};return h.save({api:"appLogin"},i).$promise.then(function(a){d.debug("Login response "+JSON.stringify(a)),(angular.isUndefined(a.result)||"success"!==a.result.status)&&g.reject(f),o(a.result.user),f.sts=!0,g.resolve(J)})["catch"](function(a){f=q(a.data||a),g.reject(f)})["finally"](function(){g.reject(f)},function(a){angular.isString(a)&&a.length&&g.notify(a)}),g.promise}function t(){var a=l(),b=c.defer(),d=b.promise;return J.oID.length?(h.save({api:"",object:"logout"}).$promise["finally"](function(){angular.extend(J,I),a.sts=!0,a.msg="",b.resolve(a),n(),m()}),d):(e(function(){b.reject(a)},0),d)}function u(){var a=l(),b=c.defer(),f=b.promise;if(!J.oID.length||!J.email.length)return e(function(){b.reject(a)},0),f;var g={email:J.email};return e(function(){b.notify("Getting profile")},0),h.save({api:"appGetUserDetailsFromEmail"},g).$promise.then(function(c){return d.debug("Got the profile "+JSON.stringify(c)),!c||angular.isUndefined(c.result)?void b.reject(a):(p(c.result),m(),void b.resolve(J))},function(c){a=q(c.data||c),b.reject(a)}),f}function v(a){var b=l(),d=c.defer(),f=d.promise;return a=a||"",a=a.toLowerCase(),!a.length||J.isLoggedIn?(e(function(){d.reject(b)},0),f):(e(function(){d.notify("Requesting for password reset")},0),h.save({object:"requestPasswordReset",api:""},{email:a}).$promise.then(function(){b.sts=!0,d.resolve(b)},function(a){b=q(a.data||a),d.reject(b)}),f)}function w(a){return a=a||!1,a&&L.isEmptyObject(R)?c.reject():(R={},i.getLoginStatus(angular.noop).then(function(a){return d.debug("On FB login status "+JSON.stringify(a)),"connected"===a.status?(R=a,i.api("/me/permissions",angular.noop)):c.reject()}).then(function(a){var b=L.map(a.data,function(a){return"granted"===a.status?a.permission:void 0});d.debug("Granted perms "+b.join(","));var e=!0;return L.each(Q,function(a,c){-1===b.indexOf(c)&&(e=!1)}),e?void c.resolve(R):(R={},c.reject(!1))}))}function x(a){a=a||!1;var b=l(),f=c.defer(),g=f.promise;return J.oID.length||!K?(e(function(){f.reject(b)},0),g):(e(function(){f.notify(a?"Signing up with Facebook":"Logging in with Facebook")},0),w(!0).then(function(){return c.resolve(R)},function(){var a=c.defer(),b=a.promise;return i.login(function(b){a.resolve(b)},{scope:Q.join(","),return_scopes:!0,auth_type:"rerequest"}),b}).then(function(c){if(d.debug("On FB successful Login "+JSON.stringify(c)),"unknown"===c.status||null===c.authResponse||"not_authorized"===c.status)return b.msg="Unable to login with Facebook",void f.reject(b);R=c;var e={facebook:{id:c.authResponse.userID,id:c.authResponse.email,access_token:c.authResponse.accessToken,expiration_date:j("date")(Date.now()+1e3*c.authResponse.expiresIn,"yyyy-MM-ddTHH:mm:ss.sss'Z'","GMT")}},g=a?"webFacebookSignUp":"webFacebookLogin";return d.debug("FB input object - "+JSON.stringify(e)),h.save({api:g},e).$promise}).then(function(a){return d.debug("FB signup response "+JSON.stringify(a)),angular.isUndefined(a)||angular.isUndefined(a.result)||"success"!==a.result.status?void f.reject(b):(J.isFBUser=!0,o(a.result),b.sts=!0,void f.resolve(J))})["catch"](function(a){d.debug("On FB catchall "+JSON.stringify(a)),b=q(a.data||a),f.reject(b)})["finally"](function(){R={},f.reject(b)},function(a){angular.isString(a)&&a.length&&f.notify(a)}),g)}function y(a,b){var f=(l(),c.defer());if(!J.isLoggedIn)return void b("User not logged in..");if(0!==M.length)return void a("success");e(function(){f.notify("Fetching contacts..")},0);var g={parentId:J.oID};h.save({api:"getCustomers"},g).$promise.then(function(c){d.debug("get customer response "+JSON.stringify(c)),(angular.isUndefined(c.result)||"success"!==c.result.status)&&b(c.result),c.result.customers.forEach(function(a){M.push(a)}),a("success")})["catch"](function(a){b(a)})["finally"](function(){})}function z(a,b,f,g,i,j,k){f=f||"",g=g||"",f=f.toLowerCase(),i=i||"",a=a||"";var m=l(),n=c.defer();if(!f.length||!i.length||!g.length)return m.msg="Invalid Input!",e(function(){n.reject(m)},0),n.promise;e(function(){n.notify("Saving Contact ")},0);var o={objectId:a||"",parentId:b,email:f,mobile:g,username:i,service:j};return h.save({api:"saveContact"},o).$promise.then(function(b){d.debug("Save Contact response "+JSON.stringify(b)),(angular.isUndefined(b.result)||"success"!==b.result.status)&&n.reject(m),a.length||M.push(b.result.customer),k.forEach(function(a){var c,e,f;console.log("saving action .."+a.objectId),0===a.dom.id&&(c="1"),0===a.service.id&&(e="OTHER SUBSCRIPTIONS"),0===a.frequency.id&&(f="monthly");var g={objectId:a.objectId,parentId:b.result.customer.objectId,name:a.action_name,email:a.action_email?"true":"false",sms:a.action_sms?"true":"false",voice:a.action_voice?"true":"false",action_text:a.action_text,start:a.start,end:a.end,service:a.service.name,dom:a.dom.name,frequency:a.frequency.name,runonsave:"false"};console.log(g),h.save({api:"saveAction"},g).$promise.then(function(a){d.debug("after save action"+JSON.stringify(a))})["catch"](function(a){console.log("Unable save action"+a.data)})}),m.sts=!0,n.resolve(J)})["catch"](function(a){m=q(a.data||a),n.reject(m)})["finally"](function(){n.reject(m)},function(a){angular.isString(a)&&a.length&&n.notify(a)}),n.promise}function A(a,b){a=a||"",b=b||"";var f=l(),g=c.defer();if(d.debug("Before import "+a+b),!a.length)return f.msg="Invalid Input!",e(function(){g.reject(f)},0),g.promise;e(function(){g.notify("Importing")},0);var i=b.split("\n");return i.forEach(function(b){var c=b.split(","),e={parentId:a,email:c[1],mobile:c[2],username:c[0],service:c[3]};h.save({api:"saveContact"},e).$promise.then(function(a){d.debug("Save Contact response "+JSON.stringify(a)),(angular.isUndefined(a.result)||"success"!==a.result.status)&&g.reject(f),M.push(a.result.customer),f.sts=!0,g.resolve(J)})["catch"](function(a){f=q(a.data||a),g.reject(f)})["finally"](function(){g.reject(f)},function(a){angular.isString(a)&&a.length&&g.notify(a)})}),g.promise}function B(a){for(var b in a)O[b]=a[b];console.log("selectd "+O.email)}function C(){return O}function D(a){console.log("removing contact "+a.objectId);var b=a.objectId||"",f=l(),g=c.defer();if(!b.length)return f.msg="Invalid input!",e(function(){g.reject(f)},0),g.promise;var i={customerId:b};return h.save({api:"deleteCustomer"},i).$promise.then(function(a){d.debug(" response "+JSON.stringify(a)),(angular.isUndefined(a.result)||"success"!==a.result.status)&&g.reject(f),f.sts=!0,g.resolve(J)})["catch"](function(a){f=q(a.data||a),g.reject(f)})["finally"](function(){g.reject(f)},function(a){angular.isString(a)&&a.length&&g.notify(a)}),g.promise}function E(a){console.log("getiing action for "+a);var a=a||"",b=l(),f=c.defer();if(!a.length)return b.msg="Invalid input!",e(function(){f.reject(b)},0),f.promise;var g={parentId:a};return h.save({api:"getActions"},g).$promise.then(function(a){d.debug(" response "+JSON.stringify(a)),angular.isUndefined(a.result)&&f.reject(b),b.sts=!0,f.resolve(a.result)})["catch"](function(a){b=q(a.data||a),f.reject(b)})["finally"](function(){f.reject(b)},function(a){angular.isString(a)&&a.length&&f.notify(a)}),f.promise}function F(a){console.log("removing action for "+a);var a=a||"",b=l(),f=c.defer();if(!a.length)return b.msg="Invalid input!",e(function(){f.reject(b)},0),f.promise;var g={objectId:a};return h.save({api:"removeAction"},g).$promise.then(function(a){d.debug(" response "+JSON.stringify(a)),angular.isUndefined(a.result)&&f.reject(b),b.sts=!0,f.resolve(a.result)})["catch"](function(a){b=q(a.data||a),f.reject(b)})["finally"](function(){f.reject(b)},function(a){angular.isString(a)&&a.length&&f.notify(a)}),f.promise}function G(a,b,f){var b=b||"",g=l(),i=c.defer();return b.length?(e(function(){i.notify("Saving Action.. ")},0),f.forEach(function(a){var c,e,f;console.log("saving action .."+a.objectId),0===a.dom.id&&(c="1"),0===a.service.id&&(e="OTHER SUBSCRIPTIONS"),0===a.frequency.id&&(f="monthly");var g={objectId:a.objectId,parentId:b,name:a.action_name,email:a.action_email?"true":"false",sms:a.action_sms?"true":"false",voice:a.action_voice?"true":"false",action_text:a.action_text,start:a.start,end:a.end,service:a.service.name,dom:a.dom.name,frequency:a.frequency.name,runonsave:"false"};console.log(g),h.save({api:"saveAction"},g).$promise.then(function(a){d.debug("after save action"+JSON.stringify(a)),N.push(a.result.action)})["catch"](function(a){console.log("Unable save action"+a.data)})}),g.sts=!0,i.resolve(J),i.promise):(g.msg="Invalid Input!",e(function(){i.reject(g)},0),i.promise)}function H(a,b){var f=(l(),c.defer());if(console.log("Fetching system actions.. for "+J.oID),!J.isLoggedIn)return void b("User not logged in..");if(0!==N.length)return void a("success");e(function(){f.notify("Fetching system actions..")},0),console.log("Fetching system actions.. for "+J.oID);var g={parentId:J.oID};h.save({api:"getActions"},g).$promise.then(function(c){d.debug("get actions response "+JSON.stringify(c)),(angular.isUndefined(c.result)||"success"!==c.result.status)&&b(c.result),c.result.actions.forEach(function(a){N.push(a)}),a("success")})["catch"](function(a){b(a)})["finally"](function(){})}var I={isLoggedIn:!1,isFBUser:!1,name:"",email:"",emailVerified:!1,mobile:"",mobileVerified:!1,profilePic:"",oID:"",sToken:"",firstName:"",lastName:"",initials:"",walletBalance:0,datastore:{}},J={},K=!1,L=f.jQuery,M=[],N=[],O={};if(angular.merge(J,I),K=i.isReady(),!K)var P=a.$watch(function(){return i.isReady()},function(a){K=a,a&&P()});var Q=["email","public_profile"],R={};return{isLoggedIn:function(){return J.isLoggedIn},isFBReady:function(){return K},getSessionToken:function(){return J.sToken},getUser:function(){return J},getCustomers:function(){return M},getSystemActions:function(){return N},signup:r,login:s,fbLogin:x,fbPreLoginCheck:w,signout:t,fetchUserProfile:u,forgotPassword:v,updateUserInfo:o,parseErrorResponse:q,getCustomerList:y,getSystemActionList:H,saveContact:z,importCSV:A,setSelectedContact:B,getSelectedContact:C,removeContact:D,getActions:E,removeAction:F,saveSysAction:G}}]),angular.module("freeminderApp").controller("CustomerListCtrl",["$scope","userService","$log","$location",function(a,b,c,d){a.customers=[];var e=function(b){a.noGcMsg="There are currently no customer associated with you. Please try again later.",c.debug("get customer list failed"+b)},f=function(c){a.customers=b.getCustomers()};a.removeContact=function(d){alert("Are you sure !!"+d.email),a.lPromise=b.removeContact(d),a.lPromise.then(function(b){c.debug("Removed  "+JSON.stringify(b)),a.customers.forEach(function(b){b.objectId==d.objectId&&(a.customers.pop(b),a.apply)})},function(b){c.debug("Unable to remove contact "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){})},a.editContact=function(a){b.setSelectedContact(a),d.path("/edit-contact")},b.getCustomerList(f,e),a.go=function(a){d.path(a)},a.filterCardsBySearch=function(){a.filterCards();var b=a.query,c=[];b&&""!==b&&($.each(a.filteredCards,function(a,d){var e=d.merchantName.toLowerCase();0===e.indexOf(b.toLowerCase())&&c.push(d)}),a.filteredCards=c,a.searchResults=c.length)},a.importCSV=function(a){console.log("File uploaded")}}]),angular.module("freeminderApp").controller("EditContactCtrl",["$scope","$window","$location","$log","userService","Facebook","configuration",function(a,b,c,d,e,f,g){a.service_list=[{id:0,name:"Select Service"},{id:1,name:"GYM"},{id:2,name:"EDUCATION"},{id:3,name:"MOTOR SERVICE"},{id:4,name:"INSURANCE"},{id:5,name:"LEGAL"},{id:6,name:"COMMUNITY"},{id:7,name:"MEDICAL"},{id:8,name:"DIAGNOSTIC CENTER"},{id:9,name:"HOME"},{id:10,name:"CABLE/INTERNET SERVICE"},{id:11,name:"OTHER SUBSCRIPTIONS"}],a.periods=[{id:0,name:"Select frequency"},{id:1,name:"monthly"},{id:2,name:"weekly"},{id:3,name:"daily"},{id:4,name:"annual"},{id:5,name:"semi-annual"},{id:6,name:"quarterly"},{id:7,name:"bi-monthly"},{id:8,name:"bi-weekly"},{id:9,name:"onetime"}],a.doms=[{id:0,name:"Select Run Day of month"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"},{id:7,name:"7"},{id:8,name:"8"},{id:9,name:"9"},{id:10,name:"10"},{id:11,name:"11"},{id:12,name:"12"},{id:13,name:"13"},{id:14,name:"14"},{id:15,name:"15"},{id:16,name:"16"},{id:17,name:"17"},{id:18,name:"18"},{id:19,name:"19"},{id:20,name:"20"},{id:21,name:"21"},{id:22,name:"22"},{id:23,name:"23"},{id:24,name:"24"},{id:25,name:"25"},{id:26,name:"26"},{id:27,name:"27"},{id:28,name:"28"},{id:29,name:"29"},{id:30,name:"30"},{id:31,name:"31"}],a.actions=[],a.actionCount=0;var h=e.getUser();a.rootUser=h,h||c.path("/login"),a.service=a.service_list[0],a.frequency=a.periods[0],a.selectedContact=e.getSelectedContact(),a.selectedContact&&(console.log(a.selectedContact.email+" is selected for edit"),a.name=a.selectedContact.name,a.email=a.selectedContact.email,a.mobile=a.selectedContact.mobile,a.service_list.forEach(function(b){b.name==a.selectedContact.service&&(a.service=a.service_list[b.id])}),a.objectId=a.selectedContact.objectId,a.lPromise=e.getActions(a.selectedContact.objectId),a.lPromise.then(function(b){d.debug("After save "+JSON.stringify(b)),b.actions.forEach(function(b){console.log("action details .."+b.actionfrequency);var c={};c.id=a.actionCount++,c.objectId=b.objectId,c.action_email="true"==b.email?!0:!1,c.action_sms="true"==b.sms?!0:!1,c.action_voice="true"==b.voice?!0:!1,c.action_name=b.actionname,c.action_text=b.content,a.doms.forEach(function(d){d.name==b.dom&&(c.dom=a.doms[d.id])}),a.service_list.forEach(function(d){d.name==b.service&&(c.service=a.service_list[d.id])}),a.periods.forEach(function(d){d.name==b.actionfrequency&&(c.frequency=a.periods[d.id])}),c.start=b.actionsince,c.end=b.actionuntil,a.actions.push(c)})},function(b){d.debug("unable to fetch actions "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){})),a.add=function(){a.actionCount++;var b={};b.id=a.actionCount,b.dom=a.doms[0],b.service=a.service_list[0],b.frequency=a.periods[0],a.actions.push(b)},a.remove=function(b){alert("This action will be removed permanently OK ?"),console.log("Removing action"+b.id),a.actions.forEach(function(c){c.id==b.id&&(a.lPromise=e.removeAction(b.objectId),a.lPromise.then(function(c){d.debug("After save "+JSON.stringify(c)),a.actions.pop(b)},function(b){d.debug("unable remove action failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){}))})},a.submitForm=function(){a.rootUser.oID.length||c.path("/login"),a.errMsg="",a.lMessage="";d.debug("Before Save "+a.email,a.mobile,a.service.name),a.lPromise=e.saveContact(a.objectId,a.rootUser.oID,a.email,a.mobile,a.name,a.service.name,a.actions),a.lPromise.then(function(a){d.debug("After save "+JSON.stringify(a)),c.path("/customer-list")},function(b){d.debug("add contact failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){})}}]),angular.module("freeminderApp").controller("ImportFileCtrl",["$scope","$window","$location","$log","userService","Facebook","configuration",function(a,b,c,d,e,f,g){var h=e.getUser();a.rootUser=h,a.rootUser||c.path("/login"),a.uploadFile=function(){d.debug("My File importing"),a.errMsg="",a.lMessage="";d.debug("Before Save "+a.rootUser.oID+a.fileContent),a.lPromise=e.importCSV(a.rootUser.oID,a.fileContent),a.lPromise.then(function(a){d.debug("After save "+JSON.stringify(a)),c.path("/customer-list")},function(b){d.debug("add contact failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){b.jQuery("input:first").focus()})}}]),angular.module("freeminderApp").directive("fileReader",function(){return{scope:{fileReader:"="},link:function(a,b){$(b).on("change",function(b){var c=b.target.files;if(c.length){var d=new FileReader;d.onload=function(b){var c=b.target.result;a.$apply(function(){a.fileReader=c})},d.readAsText(c[0])}})}}}),angular.module("freeminderApp").controller("AddActionCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"];
}),angular.module("freeminderApp").controller("NewContactCtrl",["$scope","$window","$location","$log","userService","Facebook","configuration",function(a,b,c,d,e,f,g){a.service_list=[{id:0,name:"Select Service"},{id:1,name:"GYM"},{id:2,name:"EDUCATION"},{id:3,name:"MOTOR SERVICE"},{id:4,name:"INSURANCE"},{id:5,name:"LEGAL"},{id:6,name:"COMMUNITY"},{id:7,name:"MEDICAL"},{id:8,name:"DIAGNOSTIC CENTER"},{id:9,name:"HOME"},{id:10,name:"CABLE/INTERNET SERVICE"},{id:11,name:"OTHER SUBSCRIPTIONS"}],a.periods=[{id:0,name:"Select frequency"},{id:1,name:"monthly"},{id:2,name:"weekly"},{id:3,name:"daily"},{id:4,name:"annual"},{id:5,name:"semi-annual"},{id:6,name:"quarterly"},{id:7,name:"bi-monthly"},{id:8,name:"bi-weekly"},{id:9,name:"onetime"}],a.doms=[{id:0,name:"Select Run Day of month"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"},{id:7,name:"7"},{id:8,name:"8"},{id:9,name:"9"},{id:10,name:"10"},{id:11,name:"11"},{id:12,name:"12"},{id:13,name:"13"},{id:14,name:"14"},{id:15,name:"15"},{id:16,name:"16"},{id:17,name:"17"},{id:18,name:"18"},{id:19,name:"19"},{id:20,name:"20"},{id:21,name:"21"},{id:22,name:"22"},{id:23,name:"23"},{id:24,name:"24"},{id:25,name:"25"},{id:26,name:"26"},{id:27,name:"27"},{id:28,name:"28"},{id:29,name:"29"},{id:30,name:"30"},{id:31,name:"31"}],a.actions=[],a.actionCount=0;var h=e.getUser();a.rootUser=h,h||c.path("/login"),a.service=a.service_list[0],a.frequency=a.periods[0],a.add=function(){a.actionCount++;var b={};b.id=a.actionCount,b.dom=a.doms[0],b.service=a.service_list[0],b.frequency=a.periods[0],b.start=new Date,a.actions.push(b)},a.remove=function(b){console.log("Removing action"+b),a.actions.forEach(function(c){c.id==b&&a.actions.pop(c)})},a.submitForm=function(){a.rootUser.oID.length||c.path("/login"),a.errMsg="",a.lMessage="";d.debug("Before Save "+a.email,a.mobile,a.service.name),a.lPromise=e.saveContact(a.objectId,a.rootUser.oID,a.email,a.mobile,a.name,a.service.name,a.actions),a.lPromise.then(function(a){d.debug("After save "+JSON.stringify(a)),c.path("/customer-list")},function(b){d.debug("add contact failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){b.jQuery("input:first").focus()})}}]),angular.module("freeminderApp").controller("FooterCtrl",["$scope","$rootScope","$location","configuration",function(a,b,c,d){function e(){var b=["/forgotpassword","/login","/signup"],d=["/main","/download/","/"],e=c.path();-1!==b.indexOf(e)?a.footerClass="no-footer-navbar":-1!==d.indexOf(e)?a.footerClass="noapp-footer-navbar":a.footerClass="",-1!==e.indexOf("/download")&&(a.footerClass=a.footerClass+" whitebg-footer-navbar")}a.footerClass="no-footer-navbar",a.footerVersion=d.clientVersion,a.cuurentYear=(new Date).getFullYear(),b.$on("$routeChangeSuccess",function(){e()})}]),angular.module("freeminderApp").controller("LeftnavCtrl",["$scope","$log","$location","userService",function(a,b,c,d){a.isLoggedIn=d.isLoggedIn();var e=d.getUser();a.name=e.firstName||e.lastName||"",a.image=e.profilePic,a.initials=e.initials,a.$on("user:updated",function(){a.name=e.firstName||e.lastName||"",a.image=e.profilePic,a.initials=e.initials}),a.signout=function(){return d.signout()["finally"](function(){c.path("/shop")}),!1}}]),angular.module("freeminderApp").controller("SystemActionCtrl",["$scope","$window","$location","$log","userService","Facebook","configuration",function(a,b,c,d,e,f,g){a.service_list=[{id:0,name:"Select Service"},{id:1,name:"GYM"},{id:2,name:"EDUCATION"},{id:3,name:"MOTOR SERVICE"},{id:4,name:"INSURANCE"},{id:5,name:"LEGAL"},{id:6,name:"COMMUNITY"},{id:7,name:"MEDICAL"},{id:8,name:"DIAGNOSTIC CENTER"},{id:9,name:"HOME"},{id:10,name:"CABLE/INTERNET SERVICE"},{id:11,name:"OTHER SUBSCRIPTIONS"}],a.periods=[{id:0,name:"Select frequency"},{id:1,name:"monthly"},{id:2,name:"weekly"},{id:3,name:"daily"},{id:4,name:"annual"},{id:5,name:"semi-annual"},{id:6,name:"quarterly"},{id:7,name:"bi-monthly"},{id:8,name:"bi-weekly"},{id:9,name:"onetime"}],a.doms=[{id:0,name:"Select Run Day of month"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"},{id:7,name:"7"},{id:8,name:"8"},{id:9,name:"9"},{id:10,name:"10"},{id:11,name:"11"},{id:12,name:"12"},{id:13,name:"13"},{id:14,name:"14"},{id:15,name:"15"},{id:16,name:"16"},{id:17,name:"17"},{id:18,name:"18"},{id:19,name:"19"},{id:20,name:"20"},{id:21,name:"21"},{id:22,name:"22"},{id:23,name:"23"},{id:24,name:"24"},{id:25,name:"25"},{id:26,name:"26"},{id:27,name:"27"},{id:28,name:"28"},{id:29,name:"29"},{id:30,name:"30"},{id:31,name:"31"}],a.actions=[],a.actionCount=0;var h=e.getUser();a.rootUser=h,h||c.path("/login"),a.service=a.service_list[0],a.frequency=a.periods[0],a.add=function(){a.actionCount++;var b={};b.id=a.actionCount,b.dom=a.doms[0],b.service=a.service_list[0],b.frequency=a.periods[0],b.start=new Date,a.actions.push(b)},a.remove=function(b){console.log("Removing action"+b),a.actions.forEach(function(c){c.id==b&&a.actions.pop(c)})},a.submitForm=function(){a.rootUser.oID.length||c.path("/login"),a.errMsg="",a.lMessage="";d.debug("Before Save "),a.lPromise=e.saveSysAction(a.objectId,a.rootUser.oID,a.actions),a.lPromise.then(function(a){d.debug("After save "+JSON.stringify(a)),c.path("/customer-list")},function(b){d.debug("add action failed "+JSON.stringify(b)),a.errMsg=b.msg},function(b){a.lMessage=b})["finally"](function(){b.jQuery("input:first").focus()})}}]),angular.module("freeminderApp").controller("SysactionListCtrl",["$scope","userService","$log","$location",function(a,b,c,d){a.sysActions=[];var e=function(b){a.noGcMsg="There are currently no customer associated with you. Please try again later.",c.debug("get customer list failed"+b)},f=function(c){a.sysActions=b.getSystemActions()};console.log("Fetching system actions.."),b.getSystemActionList(f,e),a.go=function(a){d.path(a)}}]),angular.module("freeminderApp").constant("configuration",{appID:"AYrq9CYZ78PEE49h8UdtJhOdHvtQwR5dXPD2nCpY",parseKey:"CpMZxmq8Z149FMhuQbkTO2k6Z96dMtLX7PLqpxcv",fbAppId:"1632206470353561",debug:!0,proxyParseAPI:!1,proxyParseAPIPrefix:""}),angular.module("swappableWebApp").constant("textResource",{LOGIN_ERR_EMAIL:"Please enter the email address or mobile number associated with your account.",LOGIN_ERR_PWD:"Please enter your password.",LOGIN_PRG:"Logging in ",SIGNUP_ERR_EMAIL:"Please enter a valid email address.",SIGNUP_ERR_PWD:"Invalid password. Must be at least 8 characters and include a special character.",SIGNUP_ERR_PHONE:"Please enter a valid mobile number.",SIGNUP_PRG_VALID:"Validating ",SIGNUP_PRG_REG:"Registering ",LOGIN_FB_ERR:"Unable to login with Facebook.",FORGOT_ERR_EMPTY:"Please enter the email address associated with your account.",FORGOT_PRG:"Processing ",VERIFY_ERR_CODE:"Please enter your verification code.",VERIFY_ERR_CODE2:"Please enter valid verification code.",VERIFY_PRG_VERIFY:"Validating ",VERIFY_PRG_RESEND:"Verifying ",MISC_ERR_INVALID_ARGS:"Invalid input.",MISC_ERR_DEFAULT:"Unable to process your request at this time. Please try again later.",SHOP_ERR_CATALOG:"Site under maintenance - Purchases are disabled - try again later",SHOP_SEARCH_NO_RESULTS:"There are no gift cards that meet your search criteria.",ADDRESS_ERR_DEFAULT:"Invalid Address.",ADDRESS_VALIDATION_PRG:"Validating shipping address",MSGS_EMPTY:"You currently have no transactions for this account.",TITLE_MAP:{"/":"Swappable | Buy & Swap Gift Cards | Free Mobile Gift Card App","/shop":"Buy Gift Cards | Swappable","/wallet":"My Wallet | Swappable","/wallet/no-cache":"My Wallet | Swappable","/profile":"My Profile | Swappable","/transactions":"My Transactions | Swappable","/privacy":"Privacy Policy | Swappable","/terms":"Terms of Use | Swappable","/checkout":"Checkout | Swappable","/signup":"Signup | Swappable","/login":"Login | Swappable","/verify-mobile":"Verify Mobile | Swappable","/forgotpassword":"Forgot Password | Swappable","/faq":"Frequently Asked Questions | Swappable"},TITLE_GA_MAP:{"/":"Swappable: Always give the perfect gift","/shop":"Gift Store","/wallet":"Gift Wallet","/wallet/no-cache":"Gift Wallet","/profile":"My Profile","/transactions":"My Transactions","/privacy":"Privacy Policy","/terms":"Terms of Use","/checkout":"Add Payment","/signup":"Sign Up","/login":"Login","/verify-mobile":"Mobile Verification","/forgotpassword":"Forgot Password","/faq":"FAQ"}}),angular.module("freeminderApp").controller("HowItWorksCtrl",["$window","$scope","$log",function(a,b,c){c.debug("inside howitworks controller"),b.player=null,b.showhiw=function(){if(null===b.player){var d=document.createElement("script");d.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e)}a.onYouTubePlayerAPIReady=function(){var d=a.YT;c.debug("inside onYouTubePlayerAPIReady event"),b.player=new d.Player("player",{videoId:"vTKckSD3Ja0",playerVars:{autoplay:1}})}},a.$("#hiw").on("show.bs.modal",function(){c.debug("Playing Video"),b.player&&(b.player.seekTo(0),b.player.playVideo())}),a.$("#hiw").on("hidden.bs.modal",function(){c.debug("Stopping Video"),b.player&&b.player.stopVideo()})}]);
//# sourceMappingURL=scripts.fa5cedda.js.map